```java
class Solution {
    public int solution(String s) {
        if(s.length() == 1) return 1;
        int answer = Integer.MAX_VALUE;
        for (int i = 1; i < s.length(); i++) {
            answer = Math.min(answer, getCompressedLen(s, i));
        }
        return answer;
    }

    private int getCompressedLen(String s, int by) {
        String before = s.substring(0, by);
        String temp = null;
        int duplCnt = 0, sLen = s.length();
        StringBuilder sb = new StringBuilder();

        for (int i = by; i < sLen; i += by) {
            temp = s.substring(i, i + by > sLen ? sLen : i + by);

            if (temp.equals(before)) {
                duplCnt++;
                continue;
            }

            if (duplCnt > 0) {
                sb.append(duplCnt + 1);
            }
            sb.append(before);
            before = temp;
            duplCnt = 0;
        }

        if (duplCnt != 0) {
            sb.append(duplCnt + 1);
        }
        sb.append(temp);
        return sb.length();
    }
}
```
![school programmers co kr_learn_courses_30_lessons_60057](https://github.com/koreaIT-study/programmers/assets/92290312/ea716961-efff-4a02-ac70-f29358804ba6)
